{"version":3,"sources":["webpack:///10.js","webpack:///./www/src/js/listing-sortable.js"],"names":["webpackJsonp","133","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","ListingSortable","this","$","each","submitUrl","data","tableBody","find","save","sortedIds","index","span","push","ajax","type","sort_order","success","response","result","alert","error","sortable","placeholder","forcePlaceholderSize","handle","stop","e","ui","helper","children","width"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YAEA,SAASC,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCADhHC,OAAOC,eAAeP,EAAqB,cAAgBQ,OAAO,GAGlE,ICRMC,GACF,QAAAA,mBAAcP,gBAAAQ,KAAAD,iBACaE,EAAE,sCAERC,KACb,WACI,GAAIC,GAAYF,EAAED,MAAMI,KAAK,YACzBC,EAAYJ,EAAED,MAAMM,KAAK,SAEzBC,EAAO,WACP,GAAIC,KAEJH,GAAUC,KAAK,oBAAoBJ,KAC/B,SAAUO,EAAOC,GACbF,EAAUG,KAAKV,EAAES,GAAMN,KAAK,SAIpCH,EAAEW,KACET,GAEIU,KAAM,OACNT,MACIU,WAAYN,GAEhBO,QAAS,SAAUC,GACVA,EAASC,QAAU,YAAcD,EAASC,QAC3CC,MAAM,iDAGdC,MAAO,WACHD,MAAM,mDAMtBb,GAAUe,UACNC,YAAa,aACbC,sBAAsB,EACtBC,OAAQ,UACRC,KAAM,SAAUC,EAAGC,GACfnB,KAEJoB,OAAQ,SAAUF,EAAGC,GAOjB,MANAA,GAAGE,WAAW1B,KACV,WACID,EAAED,MAAM6B,MAAM5B,EAAED,MAAM6B,WAIvBH,OAQ/BpC,GAAA","file":"10.js","sourcesContent":["webpackJsonp([10],{\n\n/***/ 133:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ListingSortable = function ListingSortable() {\n    _classCallCheck(this, ListingSortable);\n\n    var sortableListings = $('[data-dewdrop~=\"listing-sortable\"]');\n\n    sortableListings.each(function () {\n        var submitUrl = $(this).data('sort-url'),\n            tableBody = $(this).find('tbody');\n\n        var save = function save() {\n            var sortedIds = [];\n\n            tableBody.find('td span[data-id]').each(function (index, span) {\n                sortedIds.push($(span).data('id'));\n            });\n\n            $.ajax(submitUrl, {\n                type: 'POST',\n                data: {\n                    sort_order: sortedIds\n                },\n                success: function success(response) {\n                    if (!response.result || 'success' !== response.result) {\n                        alert('Could not save sort order.  Please try again');\n                    }\n                },\n                error: function error() {\n                    alert('Unexpected error occurred.  Please try again');\n                }\n            });\n        };\n\n        tableBody.sortable({\n            placeholder: 'alert-info',\n            forcePlaceholderSize: true,\n            handle: '.handle',\n            stop: function stop(e, ui) {\n                save();\n            },\n            helper: function helper(e, ui) {\n                ui.children().each(function () {\n                    $(this).width($(this).width());\n                });\n\n                return ui;\n            }\n        });\n    });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ListingSortable);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 10.js","\nclass ListingSortable {\n    constructor() {\n        var sortableListings = $('[data-dewdrop~=\"listing-sortable\"]');\n\n        sortableListings.each(\n            function () {\n                var submitUrl = $(this).data('sort-url'),\n                    tableBody = $(this).find('tbody');\n\n                var save = function () {\n                    var sortedIds = [];\n\n                    tableBody.find('td span[data-id]').each(\n                        function (index, span) {\n                            sortedIds.push($(span).data('id'));\n                        }\n                    );\n\n                    $.ajax(\n                        submitUrl,\n                        {\n                            type: 'POST',\n                            data: {\n                                sort_order: sortedIds\n                            },\n                            success: function (response) {\n                                if (!response.result || 'success' !== response.result) {\n                                    alert('Could not save sort order.  Please try again');\n                                }\n                            },\n                            error: function () {\n                                alert('Unexpected error occurred.  Please try again');\n                            }\n                        }\n                    );\n                };\n\n                tableBody.sortable({\n                    placeholder: 'alert-info',\n                    forcePlaceholderSize: true,\n                    handle: '.handle',\n                    stop: function (e, ui) {\n                        save();\n                    },\n                    helper: function (e, ui) {\n                        ui.children().each(\n                            function() {\n                                $(this).width($(this).width());\n                            }\n                        );\n\n                        return ui;\n                    }\n                });\n            }\n        );\n    }\n}\n\nexport default ListingSortable;\n\n\n\n// WEBPACK FOOTER //\n// ./www/src/js/listing-sortable.js"],"sourceRoot":""}